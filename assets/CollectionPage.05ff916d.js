import{c as K,a as f,h as v,d as L,as as Qe,at as Ie,au as T,r as q,Z as Oe,E as Fe,av as De,aw as Me,ax as Ve,g as le,I as re,p as X,o as ze,T as Y,l as Ke,ay as Le,M as Re,a4 as ue,a5 as m,ai as B,af as C,a7 as y,a8 as u,aa as ce,ac as de,ad as fe,a2 as je,az as He,ae as Z,a6 as x,ak as J,ag as ee,ah as te,a9 as Ne,w as $e}from"./index.587891a8.js";import{Q as me}from"./QCard.e8e8d238.js";import{m as Ae,n as Ge,c as Ue,d as We,a as Xe,u as Ye,e as Ze,f as Je,b as et,g as tt}from"./use-prevent-scroll.61a9d220.js";import{T as At,p as ne}from"./TrackCard.e61f03a3.js";var ve=K({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const A=f(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>v(e.tag,{class:A.value},L(t.default))}}),nt=K({name:"QCardActions",props:{...Qe,vertical:Boolean},setup(e,{slots:t}){const A=Ie(e),s=f(()=>`q-card__actions ${A.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>v("div",{class:s.value},L(t.default))}});const at={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function ot(e,t=()=>{},A=()=>{}){return{transitionProps:f(()=>{const s=`q-transition--${e.transitionShow||t()}`,a=`q-transition--${e.transitionHide||A()}`;return{appear:!0,enterFromClass:`${s}-enter-from`,enterActiveClass:`${s}-enter-active`,enterToClass:`${s}-enter-to`,leaveFromClass:`${a}-leave-from`,leaveActiveClass:`${a}-leave-active`,leaveToClass:`${a}-leave-to`}}),transitionStyle:f(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const Q=[];function st(e){return Q.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function it(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return T(e)}else if(e.__qPortal===!0){const A=T(e);return A!==void 0&&A.$options.name==="QPopupProxy"?(e.hide(t),A):e}e=T(e)}while(e!=null)}function lt(e,t,A){for(;A!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(A--,e.$options.name==="QMenu"){e=it(e,t);continue}e.hide(t)}e=T(e)}}function rt(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function ut(e,t,A,s){const a=q(!1),i=q(!1);let r=null;const d={},o=s==="dialog"&&rt(e);function c(h){if(h===!0){Ae(d),i.value=!0;return}i.value=!1,a.value===!1&&(o===!1&&r===null&&(r=Me(!1,s)),a.value=!0,Q.push(e.proxy),Ge(d))}function p(h){if(i.value=!1,h!==!0)return;Ae(d),a.value=!1;const b=Q.indexOf(e.proxy);b!==-1&&Q.splice(b,1),r!==null&&(Ve(r),r=null)}return Oe(()=>{p(!0)}),e.proxy.__qPortal=!0,Fe(e.proxy,"contentEl",()=>t.value),{showPortal:c,hidePortal:p,portalIsActive:a,portalIsAccessible:i,renderPortal:()=>o===!0?A():a.value===!0?[v(De,{to:r},A())]:void 0}}const g=[];let P;function ct(e){P=e.keyCode===27}function dt(){P===!0&&(P=!1)}function ft(e){P===!0&&(P=!1,le(e,27)===!0&&g[g.length-1](e))}function pe(e){window[e]("keydown",ct),window[e]("blur",dt),window[e]("keyup",ft),P=!1}function mt(e){re.is.desktop===!0&&(g.push(e),g.length===1&&pe("addEventListener"))}function ae(e){const t=g.indexOf(e);t>-1&&(g.splice(t,1),g.length===0&&pe("removeEventListener"))}const _=[];function he(e){_[_.length-1](e)}function vt(e){re.is.desktop===!0&&(_.push(e),_.length===1&&document.body.addEventListener("focusin",he))}function oe(e){const t=_.indexOf(e);t>-1&&(_.splice(t,1),_.length===0&&document.body.removeEventListener("focusin",he))}let S=0;const pt={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},se={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var ht=K({name:"QDialog",inheritAttrs:!1,props:{...Ue,...at,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...We,"shake","click","escapeKey"],setup(e,{slots:t,emit:A,attrs:s}){const a=Ke(),i=q(null),r=q(!1),d=q(!1);let o=null,c=null,p,h;const b=f(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:R}=tt(),{registerTimeout:j}=Xe(),{registerTick:ge,removeTick:H}=Ye(),{transitionProps:_e,transitionStyle:N}=ot(e,()=>se[e.position][0],()=>se[e.position][1]),{showPortal:$,hidePortal:G,portalIsAccessible:ye,renderPortal:Ce}=ut(a,i,Be,"dialog"),{hide:k}=Ze({showing:r,hideOnRouteChange:b,handleShow:we,handleHide:xe,processOnMount:!0}),{addToHistory:Pe,removeFromHistory:be}=Je(r,k,b),Ee=f(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${pt[e.position]}`+(d.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),w=f(()=>r.value===!0&&e.seamless!==!0),qe=f(()=>e.autoClose===!0?{onClick:Se}:{}),ke=f(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${w.value===!0?"modal":"seamless"}`,s.class]);X(()=>e.maximized,n=>{r.value===!0&&D(n)}),X(w,n=>{R(n),n===!0?(vt(M),mt(F)):(oe(M),ae(F))});function we(n){Pe(),c=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,D(e.maximized),$(),d.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),ge(E)):H(),j(()=>{if(a.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:l,bottom:V}=document.activeElement.getBoundingClientRect(),{innerHeight:W}=window,z=window.visualViewport!==void 0?window.visualViewport.height:W;l>0&&V>z/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-z,V>=W?1/0:Math.ceil(document.scrollingElement.scrollTop+V-z/2))),document.activeElement.scrollIntoView()}h=!0,i.value.click(),h=!1}$(!0),d.value=!1,A("show",n)},e.transitionDuration)}function xe(n){H(),be(),U(!0),d.value=!0,G(),c!==null&&(((n&&n.type.indexOf("key")===0?c.closest('[tabindex]:not([tabindex^="-"])'):void 0)||c).focus(),c=null),j(()=>{G(!0),d.value=!1,A("hide",n)},e.transitionDuration)}function E(n){et(()=>{let l=i.value;l===null||l.contains(document.activeElement)===!0||(l=(n!==""?l.querySelector(n):null)||l.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||l.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||l.querySelector("[autofocus], [data-autofocus]")||l,l.focus({preventScroll:!0}))})}function O(n){n&&typeof n.focus=="function"?n.focus({preventScroll:!0}):E(),A("shake");const l=i.value;l!==null&&(l.classList.remove("q-animate--scale"),l.classList.add("q-animate--scale"),o!==null&&clearTimeout(o),o=setTimeout(()=>{o=null,i.value!==null&&(l.classList.remove("q-animate--scale"),E())},170))}function F(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&O():(A("escapeKey"),k()))}function U(n){o!==null&&(clearTimeout(o),o=null),(n===!0||r.value===!0)&&(D(!1),e.seamless!==!0&&(R(!1),oe(M),ae(F))),n!==!0&&(c=null)}function D(n){n===!0?p!==!0&&(S<1&&document.body.classList.add("q-body--dialog"),S++,p=!0):p===!0&&(S<2&&document.body.classList.remove("q-body--dialog"),S--,p=!1)}function Se(n){h!==!0&&(k(n),A("click",n))}function Te(n){e.persistent!==!0&&e.noBackdropDismiss!==!0?k(n):e.noShake!==!0&&O()}function M(n){e.allowFocusOutside!==!0&&ye.value===!0&&Le(i.value,n.target)!==!0&&E('[tabindex]:not([tabindex="-1"])')}Object.assign(a.proxy,{focus:E,shake:O,__updateRefocusTarget(n){c=n||null}}),ze(U);function Be(){return v("div",{role:"dialog","aria-modal":w.value===!0?"true":"false",...s,class:ke.value},[v(Y,{name:"q-transition--fade",appear:!0},()=>w.value===!0?v("div",{class:"q-dialog__backdrop fixed-full",style:N.value,"aria-hidden":"true",tabindex:-1,onClick:Te}):null),v(Y,_e.value,()=>r.value===!0?v("div",{ref:i,class:Ee.value,style:N.value,tabindex:-1,...qe.value},L(t.default)):null)])}return Ce}});function ie(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var gt=Re({name:"close-popup",beforeMount(e,{value:t}){const A={depth:ie(t),handler(s){A.depth!==0&&setTimeout(()=>{const a=st(e);a!==void 0&&lt(a,s,A.depth)})},handlerKey(s){le(s,13)===!0&&A.handler(s)}};e.__qclosepopup=A,e.addEventListener("click",A.handler),e.addEventListener("keyup",A.handlerKey)},updated(e,{value:t,oldValue:A}){t!==A&&(e.__qclosepopup.depth=ie(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}}),_t="data:image/png;base64,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";const yt={props:{name:{type:String,required:!0}}},Ct=e=>(de("data-v-7d9b43aa"),e=e(),fe(),e),Pt=Ct(()=>u("img",{src:_t},null,-1)),bt={class:"playlist-caption block text-h6 ellipsis overflow-hidden"};function Et(e,t,A,s,a,i){return m(),B(me,{shrink:"",class:"playlist-card border-hover bg-primary col-xs-6 col-sm-3 col-md-2 col-lg-2 q-pa-xs cursor-pointer"},{default:C(()=>[Pt,y(ve,null,{default:C(()=>[u("div",bt,ce(A.name),1)]),_:1})]),_:1})}var qt=ue(yt,[["render",Et],["__scopeId","data-v-7d9b43aa"]]),kt="/vue-music-player/assets/avatar.2022571b.png";const wt={data(){return{playlistOpen:!1,playlistTracks:[],playlistName:""}},computed:{...je(ne,["playlists"]),...He(ne,["queue"])},methods:{openPlaylist(e){const t=e.id,A=this.playlists.find(s=>s.id===t);this.playlistTracks=A.tracks,this.playlistName=e.name,this.playlistOpen=!0},onPlayClick(){this.queue=this.playlistTracks}},components:{PlaylistCard:qt,TrackCard:At}},I=e=>(de("data-v-371fd2b0"),e=e(),fe(),e),xt={class:"container bg-primary column"},St={class:"text items-center text-h6 q-mb-sm"},Tt={key:0,class:"text row flex-center text-h6"},Bt={class:"fit column inline q-pt-xl"},Qt={class:"row"},It=I(()=>u("div",null,[u("img",{class:"gt-xs user-avatar",src:kt})],-1)),Ot={class:"column justify-center q-pl-lg"},Ft=I(()=>u("p",{class:"text-accent text-subtitle1"},"Collection",-1)),Dt=I(()=>u("p",{class:"text-h3 ellipsis text-wrap mw-90 q-pb-xs"}," Username ",-1)),Mt=I(()=>u("p",{class:"text-h4 q-ml-md q-mt-lg"},"Playlists",-1)),Vt={class:"row fit inline q-px-sm"};function zt(e,t,A,s,a,i){const r=Z("TrackCard"),d=Z("PlaylistCard");return m(),x("main",xt,[y(ht,{modelValue:a.playlistOpen,"onUpdate:modelValue":t[0]||(t[0]=o=>a.playlistOpen=o),"transition-show":"rotate","transition-hide":"rotate"},{default:C(()=>[y(me,{class:"modal-dialog"},{default:C(()=>[(m(),B(ve,{class:"bg-primary",key:a.playlistOpen},{default:C(()=>[u("p",St,ce(a.playlistName),1),a.playlistTracks.length===0?(m(),x("p",Tt,"Empty")):Ne("",!0),(m(!0),x(ee,null,te(a.playlistTracks,(o,c)=>(m(),B(r,{key:o.id,id:o.id,name:o.title,artist:o.artist.name,cover:o.album.cover_small,duration:o.duration,preview:o.preview,index:c,onClick:i.onPlayClick},null,8,["id","name","artist","cover","duration","preview","index","onClick"]))),128))]),_:1})),y(nt,{class:"bg-primary",align:"right"},{default:C(()=>[$e(y(J,{flat:"",label:"Close",color:"secondary"},null,512),[[gt]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),u("section",Bt,[u("div",Qt,[It,u("div",Ot,[Ft,Dt,u("div",null,[y(J,{class:"play-collection-button","text-color":"primary",rounded:"",color:"secondary",label:"Play"})])])])]),Mt,u("section",Vt,[(m(!0),x(ee,null,te(e.playlists,o=>(m(),B(d,{class:"q-mr-sm",key:o.id,name:o.name,onClick:c=>i.openPlaylist(o)},null,8,["name","onClick"]))),128))])])}var Ht=ue(wt,[["render",zt],["__scopeId","data-v-371fd2b0"]]);export{Ht as default};
