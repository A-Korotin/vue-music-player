import{a as c,ar as d,a2 as o,a3 as l,a4 as h,a5 as p,a6 as m,a8 as r,ab as g,aa as n}from"./index.afaf4dce.js";const P={dark:{type:Boolean,default:null}};function w(e,t){return c(()=>e.dark===null?t.dark.isActive:e.dark)}const a=d("player",{state:()=>({currentSong:{id:168295413,title:"Song name",artist:{name:"Artist"},album:{cover:"https://placekitten.com/50/50"}},currentSongIndex:0,queue:[{id:168295413,title:"Song name",artist:{name:"Artist"},album:{cover:"https://placekitten.com/50/50"}}],playlists:[{id:1,name:"Liked",tracks:[]}]}),actions:{enqueue(e){this.queue.push(e)},changeCurrentIndex(e){e=e<0?this.queue.length+e:e,this.currentSongIndex=e%this.queue.length,this.currentSong=this.queue[this.currentSongIndex]},getNextId(){return this.playlists.length===0?1:this.playlists.at(-1).id+1},createPlaylist(e){return e.id=this.getNextId(),e.tracks=[],this.playlists.push(e),e},likeTrack(e){let t=this.playlists.find(s=>s.name==="Liked");t===void 0&&(t=this.createPlaylist({name:"Liked"})),t.tracks.push(e)}}});const _={props:{id:{type:Number,required:!0},name:{type:String,required:!0},artist:{type:String,required:!0},cover:{type:String,required:!0},duration:{type:Number,required:!0},preview:{type:String,required:!0},index:{type:Number,required:!0}},computed:{...o(a,["currentSong","playlists"]),durationRepresentation(){const e=Math.floor(this.duration/60);let t=Math.floor(this.duration-e*60);return t=t<10?`0${t}`:String(t),`${e}:${t}`},isPlaying(){return this.id===this.currentSong.id}},methods:{...l(a,["changeCurrentIndex"]),onPlayClick(){this.changeCurrentIndex(this.index)},setCurrent(){this.currentSong.id!==this.id&&this.changeCurrentIndex(this.index)}}},k={class:"row items-center no-wrap"},y=["src"],v={class:"q-ml-md column track-card"},S={class:"text ellipsis"},f={class:"text text-accent ellipsis"},q={class:"text"};function x(e,t,s,C,I,i){return p(),m("div",{class:"border-hover row q-pa-sm justify-between items-center cursor-pointer no-wrap",onClick:t[0]||(t[0]=(...u)=>i.setCurrent&&i.setCurrent(...u))},[r("div",k,[r("div",{class:g([{bouncing:i.isPlaying},"circle q-mr-sm"])},null,2),r("img",{src:s.cover},null,8,y),r("div",v,[r("div",S,n(s.name),1),r("div",f,n(s.artist),1)])]),r("div",q,n(i.durationRepresentation),1)])}var N=h(_,[["render",x],["__scopeId","data-v-c2f84c86"]]);export{N as T,w as a,a as p,P as u};
